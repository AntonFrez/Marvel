{"ast":null,"code":"import _slicedToArray from\"C:/Users/frezo/Desktop/Repository/Projects/challenge-2-starter-code/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from'react';import CartContext from'../../store/cart-context';import styles from'./HeaderCartButton.module.css';import CartIcon from'../Cart/CartIcon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderCartButton=function HeaderCartButton(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isbuttonAnimated=_useState2[0],setIsbuttonAnimated=_useState2[1];var cartContext=useContext(CartContext);var cartItemsNumber=cartContext.items.reduce(function(currenValue,item){return currenValue+item.amount;},0);var buttonClasses=\"\".concat(styles.button,\" \").concat(isbuttonAnimated?styles.bump:'');useEffect(function(){if(cartContext.items.length===0){return;}setIsbuttonAnimated(true);var timer=setTimeout(function(){setIsbuttonAnimated(false);},300);return function(){clearTimeout(timer);};},[cartContext.items]);return/*#__PURE__*/_jsxs(\"button\",{className:buttonClasses,onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u041A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.badge,children:cartItemsNumber})]});};export default HeaderCartButton;","map":{"version":3,"names":["useContext","useEffect","useState","CartContext","styles","CartIcon","HeaderCartButton","props","isbuttonAnimated","setIsbuttonAnimated","cartContext","cartItemsNumber","items","reduce","currenValue","item","amount","buttonClasses","button","bump","length","timer","setTimeout","clearTimeout","onClick","icon","badge"],"sources":["C:/Users/frezo/Desktop/Repository/Projects/challenge-2-starter-code/src/components/Layout/HeaderCartButton.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react'\r\nimport CartContext from '../../store/cart-context'\r\nimport styles from './HeaderCartButton.module.css'\r\nimport CartIcon from '../Cart/CartIcon'\r\n\r\nconst HeaderCartButton = (props) => {\r\n\r\n    const [isbuttonAnimated, setIsbuttonAnimated] = useState(false)\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const cartItemsNumber = cartContext.items.reduce((currenValue, item) => {\r\n        return currenValue + item.amount\r\n    }, 0)\r\n\r\n    const buttonClasses = `${styles.button} ${isbuttonAnimated ? styles.bump : ''}`\r\n\r\n    useEffect(() => {\r\n        if (cartContext.items.length === 0) {\r\n            return\r\n        }\r\n        setIsbuttonAnimated(true)\r\n\r\n        const timer = setTimeout(() => {\r\n            setIsbuttonAnimated(false)\r\n        }, 300)\r\n\r\n        return () => {\r\n            clearTimeout(timer)\r\n        }\r\n    }, [cartContext.items])\r\n\r\n    return <button className={buttonClasses} onClick={props.onClick}>\r\n        <span className={styles.icon}>\r\n            <CartIcon/>\r\n        </span>\r\n        <span>Корзина</span>\r\n        <span className={styles.badge}>\r\n            {cartItemsNumber}\r\n        </span>\r\n    </button>\r\n}\r\n\r\nexport default HeaderCartButton"],"mappings":"yJAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,MAAOC,YAAW,KAAM,0BAA0B,CAClD,MAAOC,OAAM,KAAM,+BAA+B,CAClD,MAAOC,SAAQ,KAAM,kBAAkB,yFAEvC,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,KAAK,CAAK,CAEhC,cAAgDL,QAAQ,CAAC,KAAK,CAAC,wCAAxDM,gBAAgB,eAAEC,mBAAmB,eAE5C,GAAMC,YAAW,CAAGV,UAAU,CAACG,WAAW,CAAC,CAE3C,GAAMQ,gBAAe,CAAGD,WAAW,CAACE,KAAK,CAACC,MAAM,CAAC,SAACC,WAAW,CAAEC,IAAI,CAAK,CACpE,MAAOD,YAAW,CAAGC,IAAI,CAACC,MAAM,CACpC,CAAC,CAAE,CAAC,CAAC,CAEL,GAAMC,cAAa,WAAMb,MAAM,CAACc,MAAM,aAAIV,gBAAgB,CAAGJ,MAAM,CAACe,IAAI,CAAG,EAAE,CAAE,CAE/ElB,SAAS,CAAC,UAAM,CACZ,GAAIS,WAAW,CAACE,KAAK,CAACQ,MAAM,GAAK,CAAC,CAAE,CAChC,OACJ,CACAX,mBAAmB,CAAC,IAAI,CAAC,CAEzB,GAAMY,MAAK,CAAGC,UAAU,CAAC,UAAM,CAC3Bb,mBAAmB,CAAC,KAAK,CAAC,CAC9B,CAAC,CAAE,GAAG,CAAC,CAEP,MAAO,WAAM,CACTc,YAAY,CAACF,KAAK,CAAC,CACvB,CAAC,CACL,CAAC,CAAE,CAACX,WAAW,CAACE,KAAK,CAAC,CAAC,CAEvB,mBAAO,gBAAQ,SAAS,CAAEK,aAAc,CAAC,OAAO,CAAEV,KAAK,CAACiB,OAAQ,wBAC5D,aAAM,SAAS,CAAEpB,MAAM,CAACqB,IAAK,uBACzB,KAAC,QAAQ,IAAE,EACR,cACP,sBAAM,4CAAO,EAAO,cACpB,aAAM,SAAS,CAAErB,MAAM,CAACsB,KAAM,UACzBf,eAAe,EACb,GACF,CACb,CAAC,CAED,cAAeL,iBAAgB"},"metadata":{},"sourceType":"module"}