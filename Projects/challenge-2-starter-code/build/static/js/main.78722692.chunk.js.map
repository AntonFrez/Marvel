{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/UI/Modal.module.css","components/Meals/MealItem/MealItem.module.css","components/Layout/Header.module.css","components/Meals/PromoText.module.css","components/Meals/MealList.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Modal.js","store/cart-context.js","components/Cart/CartItem.js","components/Cart/Cart.js","assets/sushi.jpg","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/PromoText.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/MealsList.js","components/Meals/Meals.js","store/CartContextProvider.js","App.js","index.js"],"names":["module","exports","Bacdrop","props","className","styles","backdrop","onClick","onHideCart","ModalWindow","modal","content","children","portalElement","document","getElementById","Modal","Fragment","ReactDOM","createPortal","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","CartItem","price","toFixed","classes","name","summary","amount","actions","onRemove","onAdd","Cart","cartContext","useContext","Math","abs","hasItems","length","removeCartItemHandler","addCartItemHandler","cartItems","map","bind","total","button","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","useState","isbuttonAnimated","setIsbuttonAnimated","cartItemsNumber","reduce","currenValue","buttonClasses","bump","useEffect","timer","setTimeout","clearTimeout","icon","badge","Header","header","onShowCart","src","sushiImage","alt","PromoText","Card","card","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","inputAmount","current","value","trim","onAddToCart","type","min","step","defaultValue","MealItem","formattedPrice","meal","description","DUMMY_MEALS","MealsList","mealList","meals","Meals","defaultCartState","cartReducer","state","action","updatedItem","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","concat","filter","CartContextProvider","useReducer","cartState","dispatchCartAction","Provider","App","cartIsVisible","setCartVisible","render"],"mappings":"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","file":"static/js/main.78722692.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__BTnTe\",\"total\":\"Cart_total__1_jLL\",\"actions\":\"Cart_actions__1rzrk\",\"button--alt\":\"Cart_button--alt__1JvYO\",\"button\":\"Cart_button__lNM8H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__1qrvR\",\"summary\":\"CartItem_summary__oFcPq\",\"price\":\"CartItem_price__2aXYu\",\"amount\":\"CartItem_amount__2EKyx\",\"actions\":\"CartItem_actions__3JD5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__16B9R\",\"icon\":\"HeaderCartButton_icon__2Aasm\",\"badge\":\"HeaderCartButton_badge__7A-Qp\",\"bump\":\"HeaderCartButton_bump__1e-ng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__MkAVG\",\"modal\":\"Modal_modal__3opGv\",\"slide-down\":\"Modal_slide-down__1pwcQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__27FJ5\",\"description\":\"MealItem_description__19IAI\",\"price\":\"MealItem_price__2dSrf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1SES1\",\"main-image\":\"Header_main-image__20ArK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"promo-text\":\"PromoText_promo-text__weBky\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"MealList_meals__3LCEx\",\"meals-appear\":\"MealList_meals-appear__3OGrH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2CilG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__6b_S8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2Umnw\"};","import styles from './Modal.module.css'\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nconst Bacdrop = (props) => {\r\n    return <div className={styles.backdrop} onClick={props.onHideCart}></div>\r\n}\r\n\r\nconst ModalWindow = (props) => {\r\n    return <div className={styles.modal}>\r\n        <div className={styles.content}>{props.children}</div>\r\n    </div>\r\n}\r\n\r\nconst portalElement = document.getElementById('overlays')\r\n\r\nconst Modal = (props) => {\r\n    return <React.Fragment>\r\n        {ReactDOM.createPortal(<Bacdrop onHideCart={props.onHideCart}/>, portalElement)}\r\n        {ReactDOM.createPortal(<ModalWindow>{props.children}</ModalWindow>, portalElement)}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Modal","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {} \r\n})\r\n\r\nexport default CartContext","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  const price = `$${props.price.toFixed(2)}`;\r\n\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onRemove}>−</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import Modal from '../UI/Modal'\r\nimport styles from './Cart.module.css'\r\nimport { useContext } from 'react'\r\nimport CartContext from '../../store/cart-context'\r\nimport CartItem from './CartItem'\r\n\r\nconst Cart = (props) => {\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const totalAmount = `$${Math.abs(cartContext.totalAmount).toFixed(2)}`\r\n\r\n    const hasItems = cartContext.items.length > 0\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        cartContext.removeItem(id)\r\n    }\r\n\r\n    const addCartItemHandler = (item) => {\r\n        cartContext.addItem({...item, amount: 1})\r\n    }\r\n\r\n    const cartItems = (\r\n        <ul className={styles['cart-items']}>\r\n            {cartContext.items.map((item) => (\r\n            <CartItem key={item.id}\r\n                name={item.name} \r\n                amount={item.amount} \r\n                price={item.price}\r\n                onAdd={addCartItemHandler.bind(null, item)}\r\n                onRemove={removeCartItemHandler.bind(null, item.id)}/>\r\n            ))}\r\n        </ul>\r\n        \r\n    ) \r\n\r\n    return <Modal onHideCart={props.onHideCart}>\r\n        {cartItems}\r\n        <div className={styles.total}>\r\n            <span>Итого</span>\r\n            <span>{totalAmount}</span>\r\n        </div>\r\n        <div className={styles.actions}>\r\n                <button className={styles['button-alt']} onClick={props.onHideCart}>Закрыть</button>\r\n                {hasItems && <button className={styles.button}>Заказать</button>}\r\n        </div>\r\n    </Modal>\r\n}\r\n\r\nexport default Cart","export default __webpack_public_path__ + \"static/media/sushi.a2b4b921.jpg\";","const CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"currentColor\"\r\n      >\r\n        <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;\r\n  ","import { useContext, useEffect, useState } from 'react'\r\nimport CartContext from '../../store/cart-context'\r\nimport styles from './HeaderCartButton.module.css'\r\nimport CartIcon from '../Cart/CartIcon'\r\n\r\nconst HeaderCartButton = (props) => {\r\n\r\n    const [isbuttonAnimated, setIsbuttonAnimated] = useState(false)\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const cartItemsNumber = cartContext.items.reduce((currenValue, item) => {\r\n        return currenValue + item.amount\r\n    }, 0)\r\n\r\n    const buttonClasses = `${styles.button} ${isbuttonAnimated ? styles.bump : ''}`\r\n\r\n    useEffect(() => {\r\n        if (cartContext.items.length === 0) {\r\n            return\r\n        }\r\n        setIsbuttonAnimated(true)\r\n\r\n        const timer = setTimeout(() => {\r\n            setIsbuttonAnimated(false)\r\n        }, 300)\r\n\r\n        return () => {\r\n            clearTimeout(timer)\r\n        }\r\n    }, [cartContext.items])\r\n\r\n    return <button className={buttonClasses} onClick={props.onClick}>\r\n        <span className={styles.icon}>\r\n            <CartIcon/>\r\n        </span>\r\n        <span>Корзина</span>\r\n        <span className={styles.badge}>\r\n            {cartItemsNumber}\r\n        </span>\r\n    </button>\r\n}\r\n\r\nexport default HeaderCartButton","import React from 'react'\r\nimport sushiImage from '../../assets/sushi.jpg'\r\nimport styles from './Header.module.css'\r\nimport HeaderCartButton from './HeaderCartButton'\r\n\r\nconst Header = (props) => {\r\n\r\n    return <React.Fragment>\r\n        <header className={styles.header}>\r\n            <h1>Япона Кухня</h1>\r\n            <HeaderCartButton onClick={props.onShowCart}/>\r\n        </header>\r\n\r\n        <div className={styles['main-image']}>\r\n            <img src={sushiImage} alt='Блюда японской кухни'/>\r\n        </div>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Header","import styles from './PromoText.module.css'\r\n\r\nconst PromoText = () => {\r\n    return <section className={styles['promo-text']}>\r\n        <h2>Онлайн Суши Ресторан Япона Кухня</h2>\r\n        <p>Япона Кухня - это онлайн суши-ресторан, в котором любимые суши и сашими,\r\n        роллы и другие блюда национальной японской кухни делает команда\r\n        профессиональных поваров.</p>\r\n        <p>Быстрая работа и качественная продукция, а также самые настоящие\r\n        компоненты придают хороший вкус блюдам, дарят наслаждение от трапезы.</p>\r\n    </section>\r\n}\r\n\r\nexport default PromoText","import styles from './Card.module.css'\r\n\r\nconst Card = (props) => {\r\n    return <div className={styles.card}>\r\n        {props.children}\r\n    </div>\r\n}\r\n\r\nexport default Card","import styles from './Input.module.css'\r\nimport React from 'react'\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n    return <div className={styles.input}>\r\n        <label htmlFor={props.input.id}>{props.label}</label>\r\n        <input ref={ref} {...props.input}/>\r\n    </div>\r\n})\r\n\r\nexport default Input","import { useRef, useState } from 'react'\r\nimport Input from '../../UI/Input'\r\nimport styles from './MealItemForm.module.css'\r\n\r\nconst MealItemForm = (props) => {\r\n\r\n    const [isAmountValid, setIsAmountValid] = useState(true)\r\n\r\n    const amountInputRef = useRef()\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault()\r\n\r\n        const inputAmount = amountInputRef.current.value\r\n\r\n        if (inputAmount.trim().length === 0 || +inputAmount < 1 || +inputAmount > 10) {\r\n            setIsAmountValid(false)\r\n            return\r\n        }\r\n\r\n        props.onAddToCart(+inputAmount)\r\n    }\r\n\r\n    return (<form className={styles.form} onSubmit={submitHandler}>\r\n        <Input \r\n            ref={amountInputRef}\r\n            label='Количество' \r\n            input={{\r\n                id: props.id,\r\n                type: 'number',\r\n                min: '1',\r\n                step: '1',\r\n                defaultValue: '1'\r\n            }}/>\r\n        <button>Добавить</button>\r\n        {!isAmountValid && <p>Пожалуйста введите количество от 1 до 10</p>}\r\n    </form>)\r\n}\r\n\r\nexport default MealItemForm","import styles from './MealItem.module.css'\r\nimport MealItemForm from './MealItemForm'\r\nimport { useContext } from 'react'\r\nimport CartContext from '../../../store/cart-context'\r\n\r\nconst MealItem = (props) => {\r\n\r\n    const cartContext = useContext(CartContext)\r\n\r\n    const formattedPrice = `$${props.price.toFixed(2)}`\r\n\r\n    const addToCartHandler = (amount) => {\r\n        cartContext.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            amount: amount,\r\n            price: props.price,\r\n        })\r\n    }\r\n\r\n    return (<li className={styles.meal}>\r\n        <div>\r\n            <h3>{props.name}</h3>\r\n            <div className={styles.description}>{props.description}</div>\r\n            <div className={styles.price}>{formattedPrice}</div  >\r\n        </div>\r\n        <div>\r\n            <MealItemForm onAddToCart={addToCartHandler} id={props.id}/>\r\n        </div>\r\n    </li>)\r\n}\r\n\r\nexport default MealItem","import styles from './MealList.module.css'\r\nimport Card from '../UI/Card';\r\nimport MealItem from './MealItem/MealItem';\r\n\r\nconst DUMMY_MEALS = [\r\n    {\r\n      id: \"m1\",\r\n      name: 'Ролл \"Наоми\"',\r\n      description:\r\n        \"Сыр Филадельфия, куриное филе, масаго, помидор, огурец, кунжут\",\r\n      price: 11.99,\r\n    },\r\n    {\r\n      id: \"m2\",\r\n      name: \"Спайс в лососе\",\r\n      description: \"Рис, лосось, соус спайс\",\r\n      price: 3.99,\r\n    },\r\n    {\r\n      id: \"m3\",\r\n      name: \"Суши с угрем\",\r\n      description: \"Угорь копченый, соус унаги, кунжут\",\r\n      price: 4.99,\r\n    },\r\n    {\r\n      id: \"m4\",\r\n      name: 'Салат \"Поке с лососем\"',\r\n      description:\r\n        \"Рис, лосось, огурец, чука, нори, стружка тунца, соус ореховый\",\r\n      price: 7.99,\r\n    },\r\n  ];\r\n  \r\n\r\nconst MealsList = () => {\r\n\r\n    const mealList = DUMMY_MEALS.map((meal) => (\r\n        <MealItem \r\n            key={meal.id} \r\n            id={meal.id}\r\n            name={meal.name}\r\n            description={meal.description}\r\n            price={meal.price}/>\r\n    ))\r\n\r\n    return <section className={styles.meals}>\r\n        <Card>\r\n        <ul>\r\n            {mealList}\r\n        </ul>\r\n        </Card>\r\n    </section>\r\n}\r\n\r\nexport default MealsList","import PromoText from \"./PromoText\"\r\nimport MealsList from \"./MealsList\"\r\nimport React from \"react\"\r\n\r\nconst Meals = () => {\r\n    return <React.Fragment>\r\n        <PromoText/>\r\n        <MealsList/>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Meals","import React, { useReducer } from \"react\"\r\nimport CartContext from \"./cart-context\"\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0,\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === 'ADD_ITEM') {\r\n\r\n        const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount\r\n\r\n        const existingCartItemIndex = state.items.findIndex((item) => {\r\n            return item.id === action.item.id\r\n        })\r\n\r\n        const existingCartItem = state.items[existingCartItemIndex]\r\n\r\n        let updatedItem\r\n        let updatedItems\r\n\r\n        if (existingCartItem) {\r\n            updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount + action.item.amount,\r\n            }\r\n\r\n            updatedItems = [...state.items]\r\n            updatedItems[existingCartItemIndex] = updatedItem\r\n        } else {\r\n            updatedItem = {\r\n                ...action.item,\r\n            }\r\n\r\n            updatedItems = state.items.concat(updatedItem)\r\n        }\r\n        \r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n        }\r\n    }\r\n\r\n    if (action.type === 'REMOVE_ITEM') {\r\n        const existingCartItemIndex = state.items.findIndex((item) => {\r\n            return item.id === action.id\r\n    })\r\n\r\n    const existingCartItem = state.items[existingCartItemIndex]\r\n\r\n    const updatedTotalAmount = state.totalAmount - existingCartItem.price\r\n\r\n    let updatedItems\r\n    if (existingCartItem.amount === 1) {\r\n        updatedItems = state.items.filter((item) => item.id != action.id)\r\n    } else {\r\n        const updatedItem = {\r\n            ...existingCartItem, \r\n            amount: existingCartItem.amount - 1,\r\n        }\r\n        updatedItems = [...state.items]\r\n        updatedItems[existingCartItemIndex] = updatedItem\r\n    }\r\n\r\n    return {\r\n        items: updatedItems,\r\n        totalAmount: updatedTotalAmount,\r\n    }\r\n    }\r\n    return defaultCartState\r\n}\r\n\r\nconst CartContextProvider = (props) => {\r\n\r\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState)\r\n\r\n    const addItemHandler = (item) => {\r\n        dispatchCartAction({\r\n            type: 'ADD_ITEM',\r\n            item: item,\r\n        })\r\n    }\r\n\r\n    const removeItemHandler = (id) => {\r\n        dispatchCartAction({\r\n            type: 'REMOVE_ITEM',\r\n            id: id,\r\n        })\r\n    }\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemHandler,\r\n        removeItem: removeItemHandler,\r\n    }\r\n\r\n    return <CartContext.Provider value={cartContext}>{props.children}</CartContext.Provider>\r\n}\r\n\r\nexport default CartContextProvider","import React, { useState } from 'react'\nimport Cart from './components/Cart/Cart';\nimport Header from \"./components/Layout/Header\";\nimport Meals from './components/Meals/Meals';\nimport CartContextProvider from './store/CartContextProvider';\n\nfunction App() {\n\n  const [cartIsVisible, setCartVisible] = useState(false)\n\n  const showCartHandler = () => {\n    setCartVisible(true)\n  }\n\n  const hideCartHandler = () => {\n    setCartVisible(false)\n  }\n\n  return (\n    <CartContextProvider>\n      {cartIsVisible && <Cart onHideCart={hideCartHandler}/>}\n      <Header onShowCart={showCartHandler}/>\n      <main>\n        <Meals/>\n      </main>\n    </CartContextProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}